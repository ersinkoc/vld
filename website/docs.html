<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - VLD</title>
    <meta name="description" content="Complete API documentation for VLD validation library">
    <link rel="icon" type="image/svg+xml" href="assets/images/logo.svg">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        zinc: { 50:'#fafafa',100:'#f4f4f5',200:'#e4e4e7',300:'#d4d4d8',400:'#a1a1aa',500:'#71717a',600:'#52525b',700:'#3f3f46',800:'#27272a',900:'#18181b',950:'#09090b' }
                    },
                    fontFamily: { sans: ['Inter', 'system-ui'], mono: ['JetBrains Mono', 'monospace'] }
                }
            }
        }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">

    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.13.3/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>

    <link rel="stylesheet" href="assets/css/styles.css">
    <style>[x-cloak]{display:none!important}</style>
</head>
<body class="bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 font-sans" x-data="docsApp()" x-cloak>

    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-50 h-14 bg-white/90 dark:bg-zinc-950/90 backdrop-blur border-b border-zinc-200 dark:border-zinc-800">
        <div class="h-full max-w-screen-2xl mx-auto px-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <a href="index.html" class="flex items-center gap-2 font-bold">
                    <div class="w-7 h-7 rounded-lg bg-zinc-900 dark:bg-white flex items-center justify-center">
                        <span class="text-white dark:text-zinc-900 text-sm font-bold">V</span>
                    </div>
                    <span>VLD</span>
                </a>
                <span class="text-zinc-300 dark:text-zinc-700">/</span>
                <span class="text-zinc-500">Docs</span>
            </div>
            <div class="flex items-center gap-2">
                <button @click="toggleTheme()" class="p-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800">
                    <svg x-show="!darkMode" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
                    <svg x-show="darkMode" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
                </button>
                <a href="https://github.com/ersinkoc/vld" target="_blank" class="p-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                </a>
                <button @click="sidebarOpen = !sidebarOpen" class="lg:hidden p-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Layout -->
    <div class="pt-14 lg:flex">
        <!-- Sidebar -->
        <aside class="hidden lg:block fixed left-0 top-14 bottom-0 w-64 border-r border-zinc-200 dark:border-zinc-800 overflow-y-auto bg-zinc-50 dark:bg-zinc-900/50">
            <nav class="p-4">
                <template x-for="cat in categories" :key="cat.id">
                    <div class="mb-3">
                        <button @click="toggleCat(cat.id)" class="w-full flex items-center justify-between px-3 py-2 text-sm font-semibold rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800">
                            <span x-text="cat.name"></span>
                            <svg class="w-4 h-4 transition-transform" :class="openCats.includes(cat.id) && 'rotate-90'" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                        </button>
                        <div x-show="openCats.includes(cat.id)" x-collapse class="mt-1 space-y-0.5">
                            <template x-for="item in cat.items" :key="item.id">
                                <button @click="active = item.id" class="w-full text-left px-3 py-1.5 text-sm rounded-lg transition-colors"
                                    :class="active === item.id ? 'bg-zinc-900 dark:bg-white text-white dark:text-zinc-900' : 'text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800'">
                                    <code class="text-xs" x-text="item.name"></code>
                                </button>
                            </template>
                        </div>
                    </div>
                </template>
            </nav>
        </aside>

        <!-- Mobile Sidebar -->
        <div x-show="sidebarOpen" class="lg:hidden fixed inset-0 z-40 bg-black/50" @click="sidebarOpen = false"></div>
        <aside x-show="sidebarOpen" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="-translate-x-full" x-transition:enter-end="translate-x-0"
            class="lg:hidden fixed left-0 top-14 bottom-0 w-72 z-50 bg-white dark:bg-zinc-900 border-r border-zinc-200 dark:border-zinc-800 overflow-y-auto">
            <nav class="p-4">
                <template x-for="cat in categories" :key="cat.id">
                    <div class="mb-3">
                        <div class="px-3 py-2 text-sm font-semibold" x-text="cat.name"></div>
                        <div class="space-y-0.5">
                            <template x-for="item in cat.items" :key="item.id">
                                <button @click="active = item.id; sidebarOpen = false" class="w-full text-left px-3 py-1.5 text-sm rounded-lg"
                                    :class="active === item.id ? 'bg-zinc-900 text-white' : 'text-zinc-600 hover:bg-zinc-100'">
                                    <code class="text-xs" x-text="item.name"></code>
                                </button>
                            </template>
                        </div>
                    </div>
                </template>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 lg:ml-64">
            <div class="max-w-3xl mx-auto px-6 py-12">

                <!-- Dynamic Content -->
                <template x-for="doc in docs" :key="doc.id">
                    <article x-show="active === doc.id" class="space-y-8">
                        <div>
                            <h1 class="text-3xl font-bold mb-2" x-text="doc.title"></h1>
                            <p class="text-zinc-600 dark:text-zinc-400" x-text="doc.description"></p>
                        </div>

                        <!-- Methods -->
                        <div x-show="doc.methods && doc.methods.length > 0">
                            <h2 class="text-lg font-semibold mb-4">Methods</h2>
                            <div class="space-y-2">
                                <template x-for="m in doc.methods" :key="m.name">
                                    <div class="p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50">
                                        <code class="text-blue-600 dark:text-blue-400 text-sm font-mono" x-text="m.name"></code>
                                        <p class="text-sm text-zinc-600 dark:text-zinc-400 mt-1" x-text="m.desc"></p>
                                    </div>
                                </template>
                            </div>
                        </div>

                        <!-- Example -->
                        <div x-show="doc.example">
                            <h2 class="text-lg font-semibold mb-4">Example</h2>
                            <div class="rounded-xl overflow-hidden bg-zinc-900">
                                <pre class="p-5 overflow-x-auto"><code class="language-typescript text-sm" x-text="doc.example"></code></pre>
                            </div>
                        </div>
                    </article>
                </template>

                <!-- Default -->
                <div x-show="!docs.find(d => d.id === active)" class="text-center py-20">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center">
                        <svg class="w-8 h-8 text-zinc-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
                    </div>
                    <h2 class="text-xl font-bold mb-2">VLD Documentation</h2>
                    <p class="text-zinc-500">Select a validator from the sidebar</p>
                </div>

            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-typescript.min.js"></script>

    <script>
    function docsApp() {
        return {
            darkMode: false,
            sidebarOpen: false,
            active: 'string',
            openCats: ['primitives', 'objects', 'modifiers'],

            categories: [
                { id: 'primitives', name: 'Primitives', items: [
                    { id: 'string', name: 'v.string()' },
                    { id: 'number', name: 'v.number()' },
                    { id: 'boolean', name: 'v.boolean()' },
                    { id: 'date', name: 'v.date()' },
                    { id: 'bigint', name: 'v.bigint()' },
                    { id: 'symbol', name: 'v.symbol()' }
                ]},
                { id: 'objects', name: 'Objects', items: [
                    { id: 'object', name: 'v.object()' },
                    { id: 'array', name: 'v.array()' },
                    { id: 'tuple', name: 'v.tuple()' },
                    { id: 'record', name: 'v.record()' },
                    { id: 'map', name: 'v.map()' },
                    { id: 'set', name: 'v.set()' }
                ]},
                { id: 'unions', name: 'Unions & Literals', items: [
                    { id: 'union', name: 'v.union()' },
                    { id: 'literal', name: 'v.literal()' },
                    { id: 'enum', name: 'v.enum()' },
                    { id: 'discriminatedUnion', name: 'v.discriminatedUnion()' }
                ]},
                { id: 'modifiers', name: 'Modifiers', items: [
                    { id: 'optional', name: '.optional()' },
                    { id: 'nullable', name: '.nullable()' },
                    { id: 'nullish', name: '.nullish()' },
                    { id: 'default', name: '.default()' },
                    { id: 'catch', name: '.catch()' }
                ]},
                { id: 'coercion', name: 'Coercion', items: [
                    { id: 'coerce-string', name: 'v.coerce.string()' },
                    { id: 'coerce-number', name: 'v.coerce.number()' },
                    { id: 'coerce-boolean', name: 'v.coerce.boolean()' },
                    { id: 'coerce-date', name: 'v.coerce.date()' }
                ]},
                { id: 'transforms', name: 'Transforms', items: [
                    { id: 'refine', name: '.refine()' },
                    { id: 'transform', name: '.transform()' },
                    { id: 'preprocess', name: 'v.preprocess()' }
                ]},
                { id: 'methods', name: 'Schema Methods', items: [
                    { id: 'parse', name: '.parse()' },
                    { id: 'safeParse', name: '.safeParse()' },
                    { id: 'parseAsync', name: '.parseAsync()' }
                ]},
                { id: 'errors', name: 'Errors', items: [
                    { id: 'flattenError', name: 'flattenError()' },
                    { id: 'prettifyError', name: 'prettifyError()' },
                    { id: 'treeifyError', name: 'treeifyError()' }
                ]}
            ],

            docs: [
                {
                    id: 'string',
                    title: 'v.string()',
                    description: 'Creates a string validator with constraints and transformations.',
                    methods: [
                        { name: '.min(length, message?)', desc: 'Minimum string length' },
                        { name: '.max(length, message?)', desc: 'Maximum string length' },
                        { name: '.length(length, message?)', desc: 'Exact string length' },
                        { name: '.email(message?)', desc: 'Email format validation' },
                        { name: '.url(message?)', desc: 'URL format validation' },
                        { name: '.uuid(message?)', desc: 'UUID format validation' },
                        { name: '.regex(pattern, message?)', desc: 'Custom regex pattern' },
                        { name: '.startsWith(prefix)', desc: 'Must start with prefix' },
                        { name: '.endsWith(suffix)', desc: 'Must end with suffix' },
                        { name: '.includes(substr)', desc: 'Must contain substring' },
                        { name: '.trim()', desc: 'Trim whitespace' },
                        { name: '.toLowerCase()', desc: 'Convert to lowercase' },
                        { name: '.toUpperCase()', desc: 'Convert to uppercase' }
                    ],
                    example: `const emailSchema = v.string()
  .email('Invalid email')
  .toLowerCase()
  .trim();

emailSchema.parse('  User@Example.COM  ');
// Returns: 'user@example.com'`
                },
                {
                    id: 'number',
                    title: 'v.number()',
                    description: 'Creates a number validator with range and type constraints.',
                    methods: [
                        { name: '.min(value, message?)', desc: 'Minimum value (>=)' },
                        { name: '.max(value, message?)', desc: 'Maximum value (<=)' },
                        { name: '.int(message?)', desc: 'Must be an integer' },
                        { name: '.positive(message?)', desc: 'Must be > 0' },
                        { name: '.negative(message?)', desc: 'Must be < 0' },
                        { name: '.nonnegative(message?)', desc: 'Must be >= 0' },
                        { name: '.multipleOf(value)', desc: 'Must be divisible by value' },
                        { name: '.finite(message?)', desc: 'Must be finite' },
                        { name: '.safe(message?)', desc: 'Must be safe integer' }
                    ],
                    example: `const ageSchema = v.number()
  .int('Must be whole number')
  .min(0, 'Cannot be negative')
  .max(150, 'Invalid age');

ageSchema.parse(25); // OK
ageSchema.parse(25.5); // Error`
                },
                {
                    id: 'boolean',
                    title: 'v.boolean()',
                    description: 'Creates a boolean validator.',
                    methods: [],
                    example: `const isActive = v.boolean();

isActive.parse(true);  // OK
isActive.parse(false); // OK
isActive.parse('yes'); // Error`
                },
                {
                    id: 'date',
                    title: 'v.date()',
                    description: 'Creates a Date validator.',
                    methods: [
                        { name: '.min(date, message?)', desc: 'Minimum date' },
                        { name: '.max(date, message?)', desc: 'Maximum date' }
                    ],
                    example: `const birthDate = v.date()
  .min(new Date('1900-01-01'))
  .max(new Date());

birthDate.parse(new Date('1990-05-15')); // OK`
                },
                {
                    id: 'object',
                    title: 'v.object()',
                    description: 'Creates an object validator with a defined shape.',
                    methods: [
                        { name: '.strict()', desc: 'Reject unknown keys' },
                        { name: '.passthrough()', desc: 'Preserve unknown keys' },
                        { name: '.strip()', desc: 'Remove unknown keys (default)' },
                        { name: '.partial()', desc: 'Make all fields optional' },
                        { name: '.required()', desc: 'Make all fields required' },
                        { name: '.pick(...keys)', desc: 'Keep only specified keys' },
                        { name: '.omit(...keys)', desc: 'Remove specified keys' },
                        { name: '.extend(shape)', desc: 'Add new fields' },
                        { name: '.merge(schema)', desc: 'Merge with another schema' }
                    ],
                    example: `const userSchema = v.object({
  name: v.string(),
  email: v.string().email(),
  age: v.number().optional()
});

const loginSchema = userSchema.pick('email');
const updateSchema = userSchema.partial();`
                },
                {
                    id: 'array',
                    title: 'v.array()',
                    description: 'Creates an array validator with item type validation.',
                    methods: [
                        { name: '.min(length, message?)', desc: 'Minimum length' },
                        { name: '.max(length, message?)', desc: 'Maximum length' },
                        { name: '.length(length, message?)', desc: 'Exact length' },
                        { name: '.nonempty(message?)', desc: 'At least one item' }
                    ],
                    example: `const tags = v.array(v.string())
  .min(1, 'At least one tag')
  .max(10, 'Max 10 tags');

tags.parse(['typescript', 'validation']); // OK`
                },
                {
                    id: 'union',
                    title: 'v.union()',
                    description: 'Creates a union type (OR logic).',
                    methods: [],
                    example: `const stringOrNumber = v.union(
  v.string(),
  v.number()
);

stringOrNumber.parse('hello'); // OK
stringOrNumber.parse(42);      // OK
stringOrNumber.parse(true);    // Error`
                },
                {
                    id: 'literal',
                    title: 'v.literal()',
                    description: 'Creates a literal type validator.',
                    methods: [],
                    example: `const admin = v.literal('admin');
const zero = v.literal(0);
const yes = v.literal(true);

admin.parse('admin'); // OK
admin.parse('user');  // Error`
                },
                {
                    id: 'enum',
                    title: 'v.enum()',
                    description: 'Creates an enum validator from string values.',
                    methods: [],
                    example: `const role = v.enum('admin', 'user', 'guest');

role.parse('admin'); // OK
role.parse('owner'); // Error

role.options; // ['admin', 'user', 'guest']`
                },
                {
                    id: 'optional',
                    title: '.optional()',
                    description: 'Makes a schema optional (allows undefined).',
                    methods: [],
                    example: `const schema = v.object({
  name: v.string(),
  age: v.number().optional()
});

schema.parse({ name: 'John' }); // OK
schema.parse({ name: 'John', age: 25 }); // OK`
                },
                {
                    id: 'nullable',
                    title: '.nullable()',
                    description: 'Makes a schema nullable (allows null).',
                    methods: [],
                    example: `const name = v.string().nullable();

name.parse('John'); // OK
name.parse(null);   // OK`
                },
                {
                    id: 'default',
                    title: '.default()',
                    description: 'Provides a default value when undefined.',
                    methods: [],
                    example: `const count = v.number().default(0);

count.parse(5);         // 5
count.parse(undefined); // 0`
                },
                {
                    id: 'coerce-string',
                    title: 'v.coerce.string()',
                    description: 'Converts input to string before validation.',
                    methods: [],
                    example: `const str = v.coerce.string();

str.parse(123);  // '123'
str.parse(true); // 'true'`
                },
                {
                    id: 'coerce-number',
                    title: 'v.coerce.number()',
                    description: 'Converts input to number before validation.',
                    methods: [],
                    example: `const num = v.coerce.number();

num.parse('42');   // 42
num.parse('3.14'); // 3.14`
                },
                {
                    id: 'coerce-boolean',
                    title: 'v.coerce.boolean()',
                    description: 'Converts input to boolean before validation.',
                    methods: [],
                    example: `const bool = v.coerce.boolean();

bool.parse('true');  // true
bool.parse(1);       // true
bool.parse(0);       // false`
                },
                {
                    id: 'coerce-date',
                    title: 'v.coerce.date()',
                    description: 'Converts input to Date before validation.',
                    methods: [],
                    example: `const date = v.coerce.date();

date.parse('2024-01-15'); // Date object
date.parse(1705276800000); // Date object`
                },
                {
                    id: 'refine',
                    title: '.refine()',
                    description: 'Adds custom validation logic.',
                    methods: [],
                    example: `const password = v.string()
  .min(8)
  .refine(
    val => /[A-Z]/.test(val),
    'Must contain uppercase'
  );

password.parse('Password123'); // OK
password.parse('password123'); // Error`
                },
                {
                    id: 'transform',
                    title: '.transform()',
                    description: 'Transforms the validated value.',
                    methods: [],
                    example: `const schema = v.string()
  .transform(val => val.split(','));

schema.parse('a,b,c'); // ['a', 'b', 'c']`
                },
                {
                    id: 'parse',
                    title: '.parse()',
                    description: 'Validates and returns the value, throws on error.',
                    methods: [],
                    example: `const schema = v.string().email();

schema.parse('user@example.com'); // OK
schema.parse('invalid'); // throws VldError`
                },
                {
                    id: 'safeParse',
                    title: '.safeParse()',
                    description: 'Validates and returns a result object.',
                    methods: [],
                    example: `const schema = v.string().email();

const result = schema.safeParse('test');
if (result.success) {
  console.log(result.data);
} else {
  console.log(result.error);
}`
                },
                {
                    id: 'flattenError',
                    title: 'flattenError()',
                    description: 'Flattens errors into a simple object.',
                    methods: [],
                    example: `import { flattenError } from '@oxog/vld';

const result = schema.safeParse(data);
if (!result.success) {
  const flat = flattenError(result.error);
  // { fieldErrors: { email: ['Invalid'] } }
}`
                },
                {
                    id: 'prettifyError',
                    title: 'prettifyError()',
                    description: 'Formats errors for display.',
                    methods: [],
                    example: `import { prettifyError } from '@oxog/vld';

const result = schema.safeParse(data);
if (!result.success) {
  console.log(prettifyError(result.error));
}`
                },
                {
                    id: 'bigint',
                    title: 'v.bigint()',
                    description: 'Creates a BigInt validator for large integers.',
                    methods: [
                        { name: '.min(value, message?)', desc: 'Minimum value (>=)' },
                        { name: '.max(value, message?)', desc: 'Maximum value (<=)' },
                        { name: '.positive(message?)', desc: 'Must be > 0n' },
                        { name: '.negative(message?)', desc: 'Must be < 0n' },
                        { name: '.nonnegative(message?)', desc: 'Must be >= 0n' }
                    ],
                    example: `const bigId = v.bigint()
  .min(0n)
  .max(9007199254740991n);

bigId.parse(123n); // OK
bigId.parse(123);  // Error: not a BigInt`
                },
                {
                    id: 'symbol',
                    title: 'v.symbol()',
                    description: 'Creates a Symbol validator.',
                    methods: [],
                    example: `const sym = v.symbol();

sym.parse(Symbol('id'));   // OK
sym.parse(Symbol.for('x')); // OK
sym.parse('symbol');       // Error`
                },
                {
                    id: 'tuple',
                    title: 'v.tuple()',
                    description: 'Creates a tuple validator with fixed-length arrays and specific types per position.',
                    methods: [
                        { name: '.rest(schema)', desc: 'Allow additional items of type' }
                    ],
                    example: `const coord = v.tuple([
  v.number(), // x
  v.number(), // y
  v.number().optional() // z (optional)
]);

coord.parse([10, 20]);     // OK
coord.parse([10, 20, 30]); // OK
coord.parse([10]);         // Error: missing y`
                },
                {
                    id: 'record',
                    title: 'v.record()',
                    description: 'Creates a record validator with dynamic keys.',
                    methods: [],
                    example: `const scores = v.record(
  v.string(),  // key type
  v.number()   // value type
);

scores.parse({ alice: 100, bob: 95 }); // OK
scores.parse({ alice: 'A' });          // Error`
                },
                {
                    id: 'map',
                    title: 'v.map()',
                    description: 'Creates a Map validator with typed keys and values.',
                    methods: [
                        { name: '.min(size, message?)', desc: 'Minimum map size' },
                        { name: '.max(size, message?)', desc: 'Maximum map size' }
                    ],
                    example: `const userMap = v.map(
  v.string(),
  v.object({ name: v.string() })
);

const map = new Map();
map.set('u1', { name: 'Alice' });
userMap.parse(map); // OK`
                },
                {
                    id: 'set',
                    title: 'v.set()',
                    description: 'Creates a Set validator with typed values.',
                    methods: [
                        { name: '.min(size, message?)', desc: 'Minimum set size' },
                        { name: '.max(size, message?)', desc: 'Maximum set size' },
                        { name: '.nonempty(message?)', desc: 'At least one item' }
                    ],
                    example: `const tags = v.set(v.string())
  .min(1)
  .max(5);

tags.parse(new Set(['js', 'ts'])); // OK
tags.parse(new Set());             // Error: min 1`
                },
                {
                    id: 'discriminatedUnion',
                    title: 'v.discriminatedUnion()',
                    description: 'Creates a union with a discriminator field for better error messages.',
                    methods: [],
                    example: `const event = v.discriminatedUnion('type', [
  v.object({ type: v.literal('click'), x: v.number(), y: v.number() }),
  v.object({ type: v.literal('keypress'), key: v.string() }),
  v.object({ type: v.literal('scroll'), delta: v.number() })
]);

event.parse({ type: 'click', x: 10, y: 20 }); // OK
event.parse({ type: 'hover' }); // Error: invalid discriminator`
                },
                {
                    id: 'nullish',
                    title: '.nullish()',
                    description: 'Makes a schema nullish (allows null or undefined).',
                    methods: [],
                    example: `const name = v.string().nullish();

name.parse('John');    // OK
name.parse(null);      // OK
name.parse(undefined); // OK`
                },
                {
                    id: 'catch',
                    title: '.catch()',
                    description: 'Provides a fallback value when validation fails.',
                    methods: [],
                    example: `const count = v.number().catch(0);

count.parse(5);       // 5
count.parse('bad');   // 0 (fallback)
count.parse(null);    // 0 (fallback)`
                },
                {
                    id: 'preprocess',
                    title: 'v.preprocess()',
                    description: 'Transforms input before validation.',
                    methods: [],
                    example: `const trimmed = v.preprocess(
  (val) => typeof val === 'string' ? val.trim() : val,
  v.string().min(1)
);

trimmed.parse('  hello  '); // 'hello'
trimmed.parse('   ');       // Error: min 1`
                },
                {
                    id: 'parseAsync',
                    title: '.parseAsync()',
                    description: 'Validates asynchronously, useful for async refinements.',
                    methods: [],
                    example: `const username = v.string()
  .refine(async (val) => {
    // Check if username exists in DB
    return await checkUsername(val);
  }, 'Username taken');

await username.parseAsync('john'); // OK or throws`
                },
                {
                    id: 'treeifyError',
                    title: 'treeifyError()',
                    description: 'Creates a nested tree structure of errors.',
                    methods: [],
                    example: `import { treeifyError } from '@oxog/vld';

const result = schema.safeParse(data);
if (!result.success) {
  const tree = treeifyError(result.error);
  // Nested structure for complex UIs
  // { user: { email: ['Invalid format'] } }
}`
                }
            ],

            init() {
                this.darkMode = localStorage.getItem('vld-theme') === 'dark' ||
                    (!localStorage.getItem('vld-theme') && window.matchMedia('(prefers-color-scheme: dark)').matches);
                document.documentElement.classList.toggle('dark', this.darkMode);

                if (window.location.hash) {
                    const id = window.location.hash.slice(1);
                    if (this.docs.find(d => d.id === id)) this.active = id;
                }

                this.$watch('active', () => {
                    window.location.hash = this.active;
                    setTimeout(() => Prism.highlightAll(), 10);
                });

                setTimeout(() => Prism.highlightAll(), 100);
            },

            toggleTheme() {
                this.darkMode = !this.darkMode;
                document.documentElement.classList.toggle('dark', this.darkMode);
                localStorage.setItem('vld-theme', this.darkMode ? 'dark' : 'light');
            },

            toggleCat(id) {
                const i = this.openCats.indexOf(id);
                if (i === -1) this.openCats.push(id);
                else this.openCats.splice(i, 1);
            }
        };
    }
    </script>
    <script defer src="https://analytics.caprover.ecostack.ee/script.js" data-website-id="81e03764-9079-4c3d-a072-71ffaefd74ff"></script>
</body>
</html>
